<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portada Responsive</title>
    <link rel="stylesheet" href="/css/style.css">
    <!-- CDN de Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <script defer src="script.js"></script>
</head>

<body>

    <video autoplay loop muted playsinline id="video-fondo">
        <source src="/img/istockphoto-2098653116-640_adpp_is.mp4" type="video/mp4">
    </video>

    <!-- Barra de navegación -->
    <header>

        <section class="navbar">
            <h1>INPUT PRO STYLE</h1>
            <!-- Menú hamburguesa -->
            <section class="menu-icon" id="menu-icon">&#9776;</section>

            <!-- Menú desplegable -->
            <nav id="menu" class="menu">
                <ul>
                   
                    <li><a href="producto.html">Productos</a></li>
                </ul>
            </nav>

            <!-- Botón de Suscribirse -->
            <section class="iniciar-sesion">
                <button class="subscribe-btn" onclick="location.href='login.html'">Iniciar sesión</button>
            </section>

        </section>
    </header>
    <!-- Sección principal con fondo completo -->

    <section class="search-container">
        <input type="text" placeholder="Buscar..." class="search-bar">
        <button class="search-btn" onclick="redirigirAProductos()"><i class="fas fa-search"></i></button>
        <p id="error-message" style="color: red; display: none;">Por favor, rellene el campo de búsqueda.</p>

    </section>

    <footer>
        <section class="footer-section subscribe">
            <form class="subscribe-form">
                <input type="email" id="email" placeholder="Ingresa tu correo" required />
                <label for="subscription" class="subscribe-btn">Suscríbete</label>
                <input type="checkbox" id="subscription" class="subscription-checkbox" hidden />
                <div class="success-message">¡Suscripción correcta!</div>
            </form>
        </section>



        <section class="footer-section">
            <ul class="social-media">
                <li><a href="https://facebook.com" target="_blank"><i class="fab fa-facebook"></i></a></li>
                <li><a href="https://twitter.com" target="_blank"><i class="fab fa-twitter"></i></a></li>
                <li><a href="https://www.google.com/maps/dir//Bolueta,+48004+Bilbao,+Vizcaya/@43.2474913,-2.9506615,13z/data=!4m9!4m8!1m0!1m5!1m1!1s0xd4e4e51edb2e59f:0x87ef4d85092fce0!2m2!1d-2.9093762!2d43.2474362!3e0?entry=ttu&g_ep=EgoyMDI1MDMxMi4wIKXMDSoASAFQAw%3D%3D"
                        target="_blank"><i class="fas fa-map-marker-alt"></i></a></li>
            </ul>
        </section>
    </footer>

</body>
<script>
    document.getElementById("menu-icon").addEventListener("click", function () {
        document.getElementById("menu").classList.toggle("active");
    });

    function redirigirAProductos() {
    let searchTerm = document.querySelector(".search-bar").value.trim(); // Obtener el término de búsqueda
    const errorMessage = document.getElementById("error-message");

    if (searchTerm) {
        // Si hay texto en el campo, ocultamos el mensaje de error y redirigimos
        errorMessage.style.display = "none";
        window.location.href = `producto.html?search=${encodeURIComponent(searchTerm)}`;
    } else {
        // Si el campo está vacío, mostramos el mensaje de error
        errorMessage.style.display = "block";
    }
}

// Detectar tecla Enter en el campo de búsqueda
document.querySelector(".search-bar").addEventListener("keypress", function (event) {
    if (event.key === "Enter") { 
        event.preventDefault(); // Evita el comportamiento predeterminado
        redirigirAProductos(); // Llama a la función de búsqueda
    }
});

// Ocultar mensaje de error cuando el usuario comience a escribir
document.querySelector(".search-bar").addEventListener("input", function () {
    const errorMessage = document.getElementById("error-message");
    if (this.value.trim() !== "") {
        errorMessage.style.display = "none"; // Ocultamos el mensaje si el campo tiene texto
    }
});

// Ocultar mensaje de error cuando el usuario haga clic en el campo de búsqueda
document.querySelector(".search-bar").addEventListener("click", function () {
    const errorMessage = document.getElementById("error-message");
    errorMessage.style.display = "none"; // Ocultamos el mensaje al hacer clic en el campo
});


</script>

</html>